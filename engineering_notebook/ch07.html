<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工程笔记 - 第七章：二代车的设计迭代 (2276A)</title>
    <link rel="stylesheet" href="assets/styles/style.css">
    <style>
        /* --- Cover Page Styling --- */
        .cover-section {
            text-align: center;
            margin-top: 120px;
        }

        .cover-section h1 {
            font-size: 56px;
            border: none;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .cover-section h2 {
            font-size: 36px;
            background: none;
            color: #555;
            padding: 0;
            margin: 5px 0;
            border: none;
        }

        .cover-section h3 {
            font-size: 24px;
            color: #888;
            border: none;
            padding: 0;
            margin-top: 5px;
        }

        .cover-divider {
            width: 80%;
            height: 8px;
            background-color: var(--secondary-color);
            margin: 40px auto;
            border-radius: 5px;
        }

        .cover-intro {
            margin: 60px 80px;
            font-size: 20px;
            line-height: 2;
            text-align: left;
            color: #444;
        }

        /* --- Content Styling --- */
        .log-list {
            list-style: none;
            padding: 0;
        }

        .log-list li {
            margin-bottom: 10px;
            padding-bottom: 1px;
        }

        .log-list li:last-child {
            border-bottom: none;
        }

        /* Table Styles */
        .comparison-table,
        .parts-table,
        .training-table,
        .debug-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 13px;
        }

        .comparison-table th,
        .parts-table th,
        .training-table th,
        .debug-table th {
            background-color: var(--secondary-color);
            color: white;
            padding: 10px;
        }

        .comparison-table td,
        .parts-table td,
        .training-table td,
        .debug-table td {
            text-align: center;
            padding: 8px;
            border: 1px solid #ddd;
        }

        .highlight-cell {
            background-color: #f3e5f5;
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Utility Classes */
        .text-purple {
            color: var(--primary-color);
            font-weight: bold;
        }

        .text-gray {
            color: #666;
            font-size: 14px;
        }

        .box-purple {
            background-color: #F2ECF7;
            border: 1px solid var(--secondary-color);
            padding: 0 20px;
            margin-top: 20px;
            border-radius: 8px;
        }

        .bg-light-purple {
            background-color: #F8F9FA;
        }

        .code-block {
            background-color: #2d2d2d;
            color: #ccc;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 13px;
            line-height: 1.5;
            margin: 10px 0;
        }

        .analysis-section {
            border-left: 4px solid var(--primary-color);
            padding-left: 15px;
            margin: 15px 0;
        }

        /* Two Column Image Grid */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            /* Two equal columns */
            gap: 20px;
            /* Space between images */
            margin-top: 20px;
        }

        .image-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #fff;
            border: 1px solid #eee;
            padding: 5px;
            border-radius: 4px;
        }

        .image-item img {
            width: 100%;
            height: auto;
            max-height: 300px;
            /* Limit height to fit page */
            object-fit: contain;
            /* Ensure image fits nicely */
            border-radius: 2px;
        }

        .caption {
            margin-top: 8px;
            font-size: 12px;
            color: #666;
            text-align: center;
        }
    </style>
</head>

<body class="theme-purple-7">

    <!-- ================= PAGE 117: 章节封面 ================= -->
    <div class="sheet">
        <div class="cover-section">
            <h1 style="font-size: 56px;">设计迭代与优化</h1>
            <h2>第七章：二代车 (Gen 2) 的进化之路</h2>
            <h3>Chapter 7: Design Iteration: Gen 2</h3>

            <div class="cover-divider"></div>

            <div class="cover-intro">
                <p>
                    本章节详细记录了战队基于一代车（Gen 1）在训练与城市赛中暴露的底盘漂移、抓取偏差及抬升不足等问题，研发并制造二代车（Gen 2）的全过程。
                </p>
                <p>
                    核心改进包括：底盘降速稳压处理（由2倍速优化为1.5倍速）、一体化4X梁抓取结构、抬升结构的物理极限调试、气动定位角引入以及一键自动化连贯动作编程。
                </p>
                <p>
                    <strong>本章核心任务：</strong> 打造一台通过性更强、操作更灵活、堆叠更稳定的进阶机型。
                </p>
            </div>
        </div>
    </div>

    <!-- ================= PAGE 118: 迭代启动 ================= -->
    <div class="sheet">
        <h1>7.1 迭代启动：针对1.0痛点的改进方案</h1>

        <p>基于北京城市赛的数据复盘，我们确立了二代车（Gen 2）的四个核心技术改进目标：</p>

        <div class="highlight-box type-purple">
            <h3>二代车设计目标 (Design Goals)</h3>
            <ol style="line-height: 2;">
                <li><strong>底盘稳定性提升：</strong> 解决2倍速底盘带来的高速漂移问题，通过程序系数将配比优化至1.5倍速效果。</li>
                <li><strong>抓取精度优化：</strong> 采用一体4X梁固定摩擦点，解决翻转销钉至万能梁时的位置偏差（Offset）。</li>
                <li><strong>抬升结构调试：</strong> 针对中心区高塔需求，重新计算力臂长度与旋转角，确保高度与稳定性并重。</li>
                <li><strong>三角区效率优化：</strong> 引入可动定位角结构，配合自动化程序，实现快速、精准的三角得分入场。</li>
            </ol>
        </div>
        <img src="assets/ch07/7_1_1.webp" alt="Gen2整体侧视图"
            style="display: block;height:300px; margin: 10px auto; border-radius: 10px;">

    </div>

    <!-- ================= PAGE 119: 底盘优化 ================= -->
    <div class="sheet">
        <h1>7.2 机械优化一：底盘通过性与运动控制</h1>

        <div class="highlight-box type-default">
            <p class="text-purple">方案一：齿轮上移（物理通过性）</p>
            <p><strong>痛点：</strong> 一代车底盘齿轮位置过低，穿越 Loading Beam 时会发生严重的物理摩擦。我们将齿轮组安装位置整体向上迁移，消除了地面的干涉。</p>

            <p class="text-purple">方案二：降速稳压（运动控制）</p>
            <p><strong>改进：</strong> 将底盘齿轮配比由2倍速降速至1.5倍速。在 V5 程序中对底盘电机输出乘以稳定性系数（约 0.75x），并优化动力分配逻辑。</p>
            <p><strong>效果：</strong> 机器人移动更平稳，消除了高速状态下冲散场地上密集销钉的风险，大幅提升了抓取前的定位精度。</p>
        </div>
        <img src="assets/ch07/7_2_1.webp" alt="2代车底盘"
            style="display: block;height:350px; margin: 20px auto; border-radius: 10px;">
    </div>

    <!-- ================= PAGE 120: 抓取系统 ================= -->
    <div class="sheet">
        <h1>7.3 机械优化二：一体化抓取与勾取系统</h1>

        <div class="two-column-layout">
            <div class="column">
                <h3 class="text-purple">1. 一体化4X梁抓取</h3>
                <p><strong>措施：</strong> 换为一体化4X梁，并在爪子上缠绕橡皮筋增加摩擦力。</p>
                <p><strong>优势：</strong> 摩擦点完全固定，确保在翻转过程中销钉不发生偏移。抓取成功率提升至 95%。</p>
            </div>
            <img src="assets/ch07/7_3_1.webp" alt="2代车机械爪"
                style="display: block;height:200px; margin: 10px auto; border-radius: 10px;">

            <div class="column">
                <h3 class="text-purple">2. 勾爪弧度优化</h3>
                <p><strong>措施：</strong> 调整勾爪角度和弧度，使抓取点对准万能梁中心。优化物理限位位置，防止抓取时因震动导致的滑脱。</p>
                <p><strong>优势：</strong> 兼顾勾取万能梁与销钉的功能，为后续的抬升与堆叠提供了稳固的基础载体。</p>
            </div>
            <img src="assets/ch07/7_3_2.webp" alt="2代车钩爪"
                style="display: block;height:250px; margin: 10px auto; border-radius: 10px;">
        </div>
    </div>

    <!-- ================= PAGE 121: 抬升结构调试 (FULL PAGE) ================= -->
    <div class="sheet">
        <h1>7.4 机械优化三：抬升结构调试与高度冗余优化</h1>

        <h3 class="text-purple">问题诊断：高度与稳定性的失衡</h3>
        <p>在 1.0 版本中，机器人勉强能堆叠至中心区高塔的第二层。由于力臂较短，当需要触及更高点位时，电机负载剧增且结构晃动严重，导致第三层销钉极易倒塌。</p>

        <h3 class="text-purple">改进措施：几何结构重构</h3>
        <p><strong>1. 加长抬升力臂：</strong> 将原有抬升臂增长了 2.5 英寸。根据杠杆原理，虽然这增加了电机的扭矩负担，但通过增加 1:5 的减速齿轮组成功抵消了负荷，获得了更大的顶端行程高度。</p>
        <p><strong>2. 兼顾抓取功能：</strong> 在加长力臂的同时，保留了对销钉底座的物理限位，保证抓取销钉的精准度。</p>

        <h3 class="text-purple">调试效果评估：</h3>
        <p>
            高塔堆叠高度满足要求，抬升稳定性提高。
        </p>

        <img src="assets/ch07/7_4_1.webp" alt="2代车钩爪"
            style="display: block;height:250px; margin: 10px auto; border-radius: 10px;">

        <!-- <div class="img-placeholder" style="height: 150px; margin-top:15px;">
            [抬升臂力臂增长前后的几何结构对比示意图]
        </div> -->
    </div>

    <!-- ================= PAGE 122: 三角区域定位角 ================= -->
    <div class="sheet">
        <h1>7.5 机械优化四：三角区气动定位角系统</h1>

        <div class="analysis-section">
            <p class="text-purple">改进背景：解决入场干涉</p>
            <p>传统固定角在三角区边缘易卡顿，微调极耗时。改进旨在消除物理隔阂，提升投放流畅度。</p>
        </div>

        <div class="box-purple">
            <h3 class="text-purple">核心方案：气动收放 + 自动化联动</h3>
            <ul>
                <li><strong>气动结构：</strong> 增设气缸控制模块，在接近边缘时自动抬升/收起定位角，避免物理摩擦。</li>
                <li><strong>一键程序：</strong> 开发 <code>Score_In_Triangle()</code> 函数，按下按键即可自动完成“抬升-收角-后退”全套动作。</li>
            </ul>
        </div>

        <div class="highlight-box type-purple" style="margin-top: 20px;">
            <h3>实测成效 (Efficiency Gains)</h3>
            <p><strong>1. 动作丝滑：</strong> 操作由繁琐对齐变为一键自动化，无卡顿。</p>
            <p><strong>2. 效率倍增：</strong> 投放时间由 <strong>6s 降至 2.5s</strong>，场均多送入 <strong>2 个塔</strong>。</p>
        </div>

        <img src="assets/ch07/7_5_1.webp" alt="2代车抬起定位角"
            style="display: block;height:250px; margin: 10px auto; border-radius: 10px;">

    </div>

    <!-- ================= PAGE 123: 自动化编程 ================= -->
    <div class="sheet">
        <h1>7.6 程序优化：一键调整连贯动作</h1>

        <p>为配合上述机械优化（特别是抬升与定位角的联动），我们将手动分步操作精简为高度集成的自动化代码。</p>
        <div class="image-grid">
            <div class="image-item">
                <img src="assets/ch07/image11.png" alt="Optimization Diagram 1">
                <div class="caption">图 7.6.1 初始状态检查</div>
            </div>
            <div class="image-item">
                <img src="assets/ch07/image12.png" alt="Optimization Diagram 2">
                <div class="caption">图 7.6.2 连贯动作流图</div>
            </div>
            <div class="image-item">
                <img src="assets/ch07/image13.png" alt="Optimization Diagram 3">
                <div class="caption">图 7.6.3 机械臂抬升示意</div>
            </div>
            <div class="image-item">
                <img src="assets/ch07/image14.png" alt="Optimization Diagram 4">
                <div class="caption">图 7.6.4 定位角修正</div>
            </div>
        </div>

    </div>
    <div class="sheet">
        <h1>7.6 程序优化：一键调整连贯动作（续）</h1>

        <!-- <p>为配合上述机械优化（特别是抬升与定位角的联动），我们将手动分步操作精简为高度集成的自动化代码。</p> -->
        <div class="image-grid">
            <div class="image-item">
                <img src="assets/ch07/image15.png" alt="Optimization Diagram 5">
                <div class="caption">图 7.6.5 代码逻辑结构</div>
            </div>
            <div class="image-item">
                <img src="assets/ch07/image16.png" alt="Optimization Diagram 6">
                <div class="caption">图 7.6.6 负载响应曲线</div>
            </div>
            <div class="image-item">
                <img src="assets/ch07/image17.png" alt="Optimization Diagram 7">
                <div class="caption">图 7.6.7 最终执行效果 A</div>
            </div>
            <div class="image-item">
                <img src="assets/ch07/image18.png" alt="Optimization Diagram 8">
                <div class="caption">图 7.6.8 最终执行效果 B</div>
            </div>
            <!-- <div class="image-item">
                <img src="assets/ch07/image19.png" alt="Optimization Diagram 9">
                <div class="caption">图 7.6.9 误差分析统计</div>
            </div>
            <div class="image-item">
                <img src="assets/ch07/image20.png" alt="Optimization Diagram 10">
                <div class="caption">图 7.6.10 优化前后对比</div>
            </div> -->
        </div>

    </div>

    <!-- ================= PAGE 124: 详细迭代训练记录 ================= -->
    <div class="sheet">
        <h1>7.7 二代车迭代训练记录 (详细过程)</h1>

        <table class="training-table">
            <thead>
                <tr>
                    <th width="10%">次数</th>
                    <th>遇到的问题</th>
                    <th>改进措施</th>
                    <th>结果/效果</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>底盘移动漂移，抓取不稳定</td>
                    <td>降低底盘速度系数，固定摩擦点</td>
                    <td>移动稳定性提高，抓取率提升</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>高塔堆叠高度受限</td>
                    <td>加长抬升力臂，重设支点角度</td>
                    <td>成功触达最高塔点位，结构更稳</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>三角区入场被挡板卡住</td>
                    <td>增加气动控制定位角收起功能</td>
                    <td>入场顺滑，完全消除物理干涉</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>翻转与抬升动作手动衔接慢</td>
                    <td>编写程序实现一键连贯执行动作</td>
                    <td>操作流程极大简化，得分效率提高</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>实战模拟中整车动作协调度不足</td>
                    <td>模拟正式比赛节奏，调整电机联动</td>
                    <td>动作精准到位，达到实战竞赛要求</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ================= PAGE 124: 核心零件清单 ================= -->
    <div class="sheet">
        <h1>7.8 二代车核心零件清单 (BOM)</h1>

        <table class="parts-table">
            <thead>
                <tr>
                    <th width="12%">类别</th>
                    <th>核心名称</th>
                    <th width="8%">数量</th>
                    <th width="12%">类别</th>
                    <th>核心名称</th>
                    <th width="8%">数量</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="4">电子/传感器</td>
                    <td>V5 主控器 / 遥控器</td>
                    <td>1 / 1</td>
                    <td rowspan="4">动力/气动</td>
                    <td>V5 智能电机 (600/200rpm)</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>距离传感器 (Distance)</td>
                    <td>2</td>
                    <td>气罐 / 气泵</td>
                    <td>2 / 1</td>
                </tr>
                <tr>
                    <td>触碰 LED (Touch LED)</td>
                    <td>1</td>
                    <td>长 / 短气缸</td>
                    <td>2 / 1</td>
                </tr>
                <tr>
                    <td>磁性传感器 / 电磁阀</td>
                    <td>3</td>
                    <td>电磁阀组合</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td rowspan="3">结构传动</td>
                    <td>24齿/36齿/60齿/12齿</td>
                    <td>6/6/2/4</td>
                    <td rowspan="3">结构件</td>
                    <td>一体化 4X 梁</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>300 / 450 / 600 规格梁</td>
                    <td>2/2/0</td>
                    <td>2x16 / 2x20 横梁</td>
                    <td>6/5</td>
                </tr>
                <tr>
                    <td>万向轮 (Omni Wheels)</td>
                    <td>4</td>
                    <td>销钉/垫片/橡皮筋</td>
                    <td>若干</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ================= PAGE 125: 性能测试指标 ================= -->
    <div class="sheet">
        <h1>7.9 性能测试与最终调试总结</h1>

        <h3>核心性能指标对比 (Gen 1 vs Gen 2)</h3>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th width="15%">策略模式</th>
                    <th width="20%">一代车表现 (1.0)</th>
                    <th width="15%">二代车实测 (2.0)</th>
                    <th>关键提升点</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>91分策略</strong></td>
                    <td>105 分 (无三角区)</td>
                    <td class="highlight-cell">166 分</td>
                    <td>定位角展开快，增加双色三角区得分</td>
                </tr>
                <tr>
                    <td><strong>110分策略</strong></td>
                    <td>144 分 (稳定性差)</td>
                    <td class="highlight-cell">178 分</td>
                    <td>加长力臂，高塔堆叠成功率 100%</td>
                </tr>
                <tr>
                    <td><strong>技能赛</strong></td>
                    <td>144 分 (无高塔)</td>
                    <td class="highlight-cell">184 分</td>
                    <td>自动化翻转，完成三色中心区任务</td>
                </tr>
            </tbody>
        </table>

        <div class="box-purple">
            <h3>本章调试结论</h3>
            <ul>
                <li><strong>抬升结构：</strong> 增加力臂不仅解决了高度物理极限，更通过重心的后移提高了高速移动中的防翻扣能力。</li>
                <li><strong>定位角系统：</strong> 气动化的引入是本章最大的“效率黑科技”，将三角区任务从“细活”变成了“快活”。</li>
                <li><strong>综合评价：</strong> 二代机在解决一代机稳定性的基础上，通过机械与程序的深度协同，实现了从“能跑”到“稳赢”的跨越。</li>
            </ul>
        </div>
    </div>

    <!-- ================= PAGE 126: 章节总结 ================= -->
    <div class="sheet">
        <h1>第七章总结：成熟的二代机</h1>

        <div class="cover-intro" style="margin: 40px 0;">
            <p>
                通过本章节的迭代与实测可以得出，二代车不仅是一次成功的机械迭代，更是软硬件深度融合的成果。
            </p>
            <p>
                <strong>核心成果回顾：</strong>
            </p>
            <ul style="line-height: 2;">
                <li>成功解决了底盘漂移、抓取偏差及抬升不足三大核心痛点。</li>
                <li>引入了气动控制与自动化编程，大幅降低了操作手的操作强度。</li>
                <li>实战数据证明，二代车在稳定性、速度和可靠性上都达到了校际联赛的高标准要求。</li>
            </ul>
            <p>
                <strong>下一步规划：</strong>
                战队将以此成熟机型备战即将到来的教委市赛，并在后续章节中进一步探索针对极端赛况的微调策略。
            </p>
        </div>
        <img src="assets/ch07/7_z.webp" alt="2代车顶视图"
            style="display: block;height:250px; margin: 10px auto; border-radius: 10px;">

        <!-- <div class="img-placeholder" style="height: 250px; margin-top: 50px;">
            [二代车在校际联赛现场的完赛状态照片图片]
        </div> -->
    </div>

    <script src="assets/scripts/toggle-buttons.js"></script>
    <script src="assets/scripts/common-elements.js"></script>
    <script src="assets/scripts/navigation-button.js"></script>
</body>

</html>