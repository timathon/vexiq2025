<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工程笔记 - 第七章：二代车的设计迭代 (2276A)</title>
    <link rel="stylesheet" href="assets/styles/style.css">
    <style>
        /* --- Cover Page Styling --- */
        .cover-section {
            text-align: center;
            margin-top: 120px;
        }

        .cover-section h1 {
            font-size: 56px;
            border: none;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .cover-section h2 {
            font-size: 36px;
            background: none;
            color: #555;
            padding: 0;
            margin: 5px 0;
            border: none;
        }

        .cover-section h3 {
            font-size: 24px;
            color: #888;
            border: none;
            padding: 0;
            margin-top: 5px;
        }

        .cover-divider {
            width: 80%;
            height: 8px;
            background-color: var(--secondary-color);
            margin: 40px auto;
            border-radius: 5px;
        }

        .cover-intro {
            margin: 60px 80px;
            font-size: 20px;
            line-height: 2;
            text-align: left;
            color: #444;
        }

        /* --- Content Styling --- */
        .log-list {
            list-style: none;
            padding: 0;
        }

        .log-list li {
            margin-bottom: 10px;
            padding-bottom: 1px;
        }

        .log-list li:last-child {
            border-bottom: none;
        }

        /* Table Styles */
        .comparison-table,
        .parts-table,
        .training-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 13px;
        }

        .comparison-table th,
        .parts-table th,
        .training-table th {
            background-color: var(--secondary-color);
            color: white;
            padding: 10px;
        }

        .comparison-table td,
        .parts-table td,
        .training-table td {
            text-align: center;
            padding: 8px;
            border: 1px solid #ddd;
        }

        .highlight-cell {
            background-color: #f3e5f5;
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Utility Classes */
        .text-purple {
            color: var(--primary-color);
            font-weight: bold;
        }

        .text-gray {
            color: #666;
            font-size: 14px;
        }

        .box-purple {
            background-color: #F2ECF7;
            border: 1px solid var(--secondary-color);
            padding: 0 20px;
            margin-top: 20px;
        }

        .bg-light-purple {
            background-color: #F8F9FA;
        }

        .code-block {
            background-color: #2d2d2d;
            color: #ccc;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 13px;
            line-height: 1.5;
            margin: 10px 0;
        }
    </style>
</head>

<body class="theme-purple-7">

    <!-- ================= PAGE 117: 章节封面 ================= -->
    <div class="sheet">
        <div class="cover-section">
            <h1 style="font-size: 56px;">设计迭代与优化</h1>
            <h2>第七章：二代车 (Gen 2) 的进化之路</h2>
            <h3>Chapter 7: Design Iteration: Gen 2</h3>

            <div class="cover-divider"></div>

            <div class="cover-intro">
                <p>
                    本章节详细记录了战队基于一代车（Gen 1）在训练与城市赛中暴露的底盘漂移、抓取偏差及抬升不足等问题，研发并制造二代车（Gen 2）的全过程。
                </p>
                <p>
                    核心改进包括：底盘降速稳压处理（由2倍速优化为1.5倍速）、一体化4X梁抓取结构、气动定位角引入以及一键自动化连贯动作编程。
                </p>
                <p>
                    <strong>本章核心任务：</strong> 打造一台通过性更强、操作更灵活、堆叠更稳定的进阶机型。
                </p>
            </div>
        </div>
    </div>

    <!-- ================= PAGE 118: 迭代启动 ================= -->
    <div class="sheet">
        <h1>7.1 迭代启动：针对1.0痛点的改进方案</h1>

        <p>基于北京城市赛的数据复盘，我们确立了二代车（Gen 2）的四个核心技术改进目标：</p>

        <div class="highlight-box type-purple">
            <h3>二代车设计目标 (Design Goals)</h3>
            <ol style="line-height: 2;">
                <li><strong>底盘稳定性提升：</strong> 解决2倍速底盘带来的高速漂移问题，通过程序系数将配比优化至1.5倍速效果。</li>
                <li><strong>抓取精度优化：</strong> 采用一体4X梁固定摩擦点，解决翻转销钉至万能梁时的位置偏差（Offset）。</li>
                <li><strong>抬升能力增强：</strong> 加长力臂并调整旋转支点，确保在高塔挂载任务中具备充足的高度冗余。</li>
                <li><strong>程序自动化集成：</strong> 编写“一键完成”程序，实现翻转、抬升、堆叠的连贯动作，降低得分耗时。</li>
            </ol>
        </div>
        <img src="assets/ch07/7_1_1.webp" alt="Gen2整体侧视图"
            style="display: block;height:300px; margin: 10px auto; border-radius: 10px;">

    </div>

    <!-- ================= PAGE 119: 底盘优化 ================= -->
    <div class="sheet">
        <h1>7.2 机械优化一：底盘通过性与运动控制</h1>

        <div class="highlight-box type-default">
            <p class="text-purple">方案一：齿轮上移（物理通过性）</p>
            <p><strong>痛点：</strong> 一代车底盘齿轮位置过低，穿越 Loading Beam 时会发生严重的物理摩擦。我们将齿轮组安装位置整体向上迁移，消除了地面的干涉。</p>

            <p class="text-purple">方案二：降速稳压（运动控制）</p>
            <p><strong>改进：</strong> 将底盘齿轮配比由2倍速降速至1.5倍速。在 V5 程序中对底盘电机输出乘以稳定性系数（约 0.75x），并优化动力分配逻辑。</p>
            <p><strong>效果：</strong> 机器人移动更平稳，消除了高速状态下冲散场地上密集销钉的风险，大幅提升了抓取前的定位精度。</p>
        </div>
        <img src="assets/ch07/7_2_1.webp" alt="2代车底盘"
            style="display: block;height:350px; margin: 20px auto; border-radius: 10px;">

        <!-- <div class="img-placeholder" style="height: 220px;">
            [底盘降速程序代码截图与齿轮布局对比图图片]
        </div> -->
    </div>

    <!-- ================= PAGE 120: 抓取与抬升系统 ================= -->
    <div class="sheet">
        <h1>7.3 机械优化二：抓取、勾取与抬升系统</h1>

        <div class="two-column-layout">
            <div class="column">
                <h3 class="text-purple">1. 一体化4X梁抓取</h3>
                <p><strong>措施：</strong> 换为一体化4X梁，并在爪子上缠绕橡皮筋增加摩擦力。</p>
                <p><strong>优势：</strong> 摩擦点完全固定，确保在翻转过程中销钉不发生偏移。抓取成功率提升至 95%。</p>
            </div>
            <img src="assets/ch07/7_3_1.webp" alt="2代车机械爪"
                style="display: block;height:200px; margin: 10px auto; border-radius: 10px;">

            <div class="column">
                <h3 class="text-purple">2. 勾爪弧度与力臂优化</h3>
                <p><strong>措施：</strong> 调整勾爪角度和弧度，使抓取点对准万能梁中心。加长抬升力臂，并优化角度与位置。</p>
                <p><strong>优势：</strong> 兼顾勾取万能梁与销钉的功能，满足中心区高塔所需的最高堆叠高度。</p>
            </div>
            <img src="assets/ch07/7_3_2.webp" alt="2代车钩爪"
                style="display: block;height:250px; margin: 10px auto; border-radius: 10px;">

        </div>

        <!-- <div class="img-placeholder" style="height: 200px;">
            [一体4X梁细节图及后的勾爪结构图片]
        </div> -->
    </div>

    <!-- ================= PAGE 121: 定位角与面状辅助 ================= -->
    <div class="sheet">
        <h1>7.4 机械优化三：气动定位角与面状辅助系统</h1>

        <div class="highlight-box type-default">
            <p class="text-purple">优化项目 A：气动定位角（半收起形态）</p>
            <ul>
                <li><strong>结构：</strong> 引入气动系统，由气杆通过拉动绳索完成动作。将原有的全收起改为“半收起”形态，更换短气杆缩短行程。</li>
                <li><strong>功能：</strong> 解决送入三角区时反复调整的问题，一键瞬间展开定位，操作极速简化。</li>
            </ul>
        </div>

        <div class="highlight-box type-default">
            <p class="text-purple">优化项目 B：面状辅助定位装置</p>
            <ul>
                <li><strong>原理：</strong> 采用宽板凹槽结构替换点状支架，利用物理限位强制纠正销钉姿态。</li>
                <li><strong>效果：</strong> 有效解决了翻转后销钉晃动的问题，确保第二层及以上堆叠的垂直度。</li>
            </ul>
        </div>

        <div class="img-placeholder" style="height: 200px;">
            [气动定位角绳索结构图及面状辅助定位板细节图片]
        </div>
    </div>

    <!-- ================= PAGE 122: 自动化编程 ================= -->
    <div class="sheet">
        <h1>7.5 程序优化：一键调整连贯动作逻辑</h1>

        <p>为提高得分效率，我们将手动分步操作精简为高度集成的自动化代码。</p>

        <div class="code-block">
            // 自动化翻转、抬升与堆叠逻辑伪代码
            WHEN Controller.Button_LA.Pressed {
            LF_Motor.RotateTo(-840, degrees); // 抬升至预设堆叠高度
            RF_Motor.RotateTo(-840, degrees);
            WaitUntilDone();

            Grab_Pneumatic.Extend(); // 气缸伸展完成抓取
            Wait(0.2, seconds);

            Arm_Motor.RotateTo(370, degrees); // 翻转动作无缝衔接
            WaitUntilDone();

            // 位置反馈检测：精度控制在 5 度以内，防止过冲
            }
        </div>
        <p class="text-gray">注：程序中加入了对电机转速的动态调整（abs函数限制），确保在高速移动和精准堆叠间灵活切换。</p>
    </div>

    <!-- ================= PAGE 123: 详细迭代训练记录 ================= -->
    <div class="sheet">
        <h1>7.6 二代车迭代训练记录 (详细过程)</h1>

        <table class="training-table">
            <thead>
                <tr>
                    <th width="10%">次数</th>
                    <th>遇到的问题</th>
                    <th>改进措施</th>
                    <th>结果/效果</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>底盘移动漂移，抓取不稳定</td>
                    <td>降低底盘速度系数，固定摩擦点</td>
                    <td>移动稳定性提高，抓取率提升</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>高塔堆叠不够稳，高度略低</td>
                    <td>调整抬升力臂长度，增加面状辅助</td>
                    <td>堆叠高度增加，稳定性大幅提升</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>勾取万能梁时角度不准导致滑落</td>
                    <td>调整勾爪弧度，优化物理限位位置</td>
                    <td>勾取稳定性提升，滑落现象减少</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>翻转与抬升动作手动衔接慢</td>
                    <td>编写程序实现一键连贯执行动作</td>
                    <td>操作流程极大简化，得分效率提高</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>连续抓取多个销钉时偶有滑动</td>
                    <td>微调摩擦点位置，加厚橡皮筋</td>
                    <td>抓取成功率稳定在 95% 以上</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>连续动作程序衔接略显生涩</td>
                    <td>优化程序内部延时（Delay）参数</td>
                    <td>动作衔接更流畅，单任务时间缩短</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>实战模拟中整车动作协调度不足</td>
                    <td>模拟正式比赛节奏，调整电机联动</td>
                    <td>动作精准到位，达到实战竞赛要求</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ================= PAGE 124: 核心零件清单 ================= -->
    <div class="sheet">
        <h1>7.7 二代车核心零件清单 (BOM)</h1>

        <table class="parts-table">
            <thead>
                <tr>
                    <th width="12%">类别</th>
                    <th>核心名称</th>
                    <th width="8%">数量</th>
                    <th width="12%">类别</th>
                    <th>核心名称</th>
                    <th width="8%">数量</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="4">电子/传感器</td>
                    <td>V5 主控器 / 遥控器</td>
                    <td>1 / 1</td>
                    <td rowspan="4">动力/气动</td>
                    <td>V5 智能电机 (600/200rpm)</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>距离传感器 (Distance)</td>
                    <td>2</td>
                    <td>气罐 / 气泵</td>
                    <td>2 / 1</td>
                </tr>
                <tr>
                    <td>触碰 LED (Touch LED)</td>
                    <td>1</td>
                    <td>长 / 短气缸</td>
                    <td>2 / 1</td>
                </tr>
                <tr>
                    <td>磁性传感器 / 电磁阀</td>
                    <td>3</td>
                    <td>电磁阀组合</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td rowspan="3">结构传动</td>
                    <td>24齿/36齿/60齿/12齿</td>
                    <td>6/6/2/4</td>
                    <td rowspan="3">结构件</td>
                    <td>一体化 4X 梁</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>300 / 450 / 600 规格梁</td>
                    <td>2/2/0</td>
                    <td>2x16 / 2x20 横梁</td>
                    <td>6/5</td>
                </tr>
                <tr>
                    <td>万向轮 (Omni Wheels)</td>
                    <td>4</td>
                    <td>销钉/垫片/橡皮筋</td>
                    <td>若干</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ================= PAGE 125: 性能测试指标 ================= -->
    <div class="sheet">
        <h1>7.8 性能测试与最终调试</h1>

        <h3>核心性能指标对比 (Gen 1 vs Gen 2)</h3>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th width="15%">策略模式</th>
                    <th width="20%">一代车表现 (1.0)</th>
                    <th width="15%">二代车实测 (2.0)</th>
                    <th>关键提升点</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>91分策略</strong></td>
                    <td>105 分 (无三角区)</td>
                    <td class="highlight-cell">166 分</td>
                    <td>定位角展开快，增加双色三角区得分</td>
                </tr>
                <tr>
                    <td><strong>110分策略</strong></td>
                    <td>144 分 (稳定性差)</td>
                    <td class="highlight-cell">178 分</td>
                    <td>加长力臂，高塔堆叠成功率 100%</td>
                </tr>
                <tr>
                    <td><strong>技能赛</strong></td>
                    <td>144 分 (无高塔)</td>
                    <td class="highlight-cell">184 分</td>
                    <td>自动化翻转，完成三色中心区任务</td>
                </tr>
            </tbody>
        </table>

        <div class="box-purple">
            <h3>性能调试结论</h3>
            <ul>
                <li><strong>底盘：</strong> 降速至 1.5 倍速后，漂移明显减少，碰散销钉概率降至 5% 以下。</li>
                <li><strong>抓取：</strong> 4X 梁与橡皮筋组合解决了滑动问题，确保了堆叠位置的一致性。</li>
                <li><strong>抬升：</strong> 力臂加长后不仅满足高塔高度，且增加了勾取销钉的灵活性。</li>
                <li><strong>自动化：</strong> 连贯动作消除手动延迟，单场比赛任务完成效率提升 35%。</li>
            </ul>
        </div>
    </div>

    <!-- ================= PAGE 126: 章节总结 ================= -->
    <div class="sheet">
        <h1>第七章总结：成熟的二代机</h1>

        <div class="cover-intro" style="margin: 40px 0;">
            <p>
                通过本章节的迭代与实测可以得出，二代车不仅是一次成功的机械迭代，更是软硬件深度融合的成果。
            </p>
            <p>
                <strong>核心成果回顾：</strong>
            </p>
            <ul style="line-height: 2;">
                <li>成功解决了底盘漂移、抓取偏差及抬升不足三大核心痛点。</li>
                <li>引入了气动控制与自动化编程，大幅降低了操作手的操作强度。</li>
                <li>实战数据证明，二代车在稳定性、速度和可靠性上都达到了校际联赛的高标准要求。</li>
            </ul>
            <p>
                <strong>下一步规划：</strong>
                战队将以此成熟机型备战即将到来的教委市赛，并在后续章节中进一步探索针对极端赛况的微调策略。
            </p>
        </div>

        <div class="img-placeholder" style="height: 250px; margin-top: 50px;">
            [二代车在校际联赛现场的完赛状态照片图片]
        </div>
    </div>

    <script src="assets/scripts/toggle-buttons.js"></script>
    <script src="assets/scripts/common-elements.js"></script>
    <script src="assets/scripts/navigation-button.js"></script>
</body>

</html>